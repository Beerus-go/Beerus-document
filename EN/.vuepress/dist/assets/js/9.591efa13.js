(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{406:function(t,e,i){"use strict";i.r(e);var s=i(56),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"session-details"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#session-details"}},[t._v("#")]),t._v(" Session Details")]),t._v(" "),i("p",[t._v("Two techniques are used, one is AES encryption and the other is JSON")]),t._v(" "),i("h2",{attrs:{id:"the-principle-of-generating-a-token"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#the-principle-of-generating-a-token"}},[t._v("#")]),t._v(" The principle of generating a token")]),t._v(" "),i("ul",[i("li",[t._v("When the session.CreateToken function is called, it internally converts the parameters into a JSON string, and then stitches in a last valid time.")]),t._v(" "),i("li",[t._v("The string obtained in the previous step is AES encrypted and returned as base64")])]),t._v(" "),i("h2",{attrs:{id:"how-token-restoration-works"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#how-token-restoration-works"}},[t._v("#")]),t._v(" How token restoration works")]),t._v(" "),i("ul",[i("li",[t._v("When the session.RestoreToken function is called, the token is decoded internally to base64, resulting in a []byte of encrypted data")]),t._v(" "),i("li",[t._v("The encrypted data from the previous step is decrypted with AES to get the initial JSON string + the last valid time")]),t._v(" "),i("li",[t._v("Cut the string from the previous step to get a JSON string and a timestamp, determine whether the current timestamp is greater than this timestamp, if it is greater than this timestamp, it means it has been invalidated, return the message directly")]),t._v(" "),i("li",[t._v("If it is less than this timestamp, then convert the JSON string into struct")])]),t._v(" "),i("h2",{attrs:{id:"expiry-principle"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#expiry-principle"}},[t._v("#")]),t._v(" Expiry principle")]),t._v(" "),i("ul",[i("li",[t._v("When encrypting, Timeout + current timestamp, get a result, stitch the result to the JSON")]),t._v(" "),i("li",[t._v("Before decrypting, determine if the timestamp in the previous step is greater than the current timestamp")])]),t._v(" "),i("p",[i("RouterLink",{attrs:{to:"/beerus/"}},[t._v("return the document just now")])],1)])}),[],!1,null,null,null);e.default=r.exports}}]);